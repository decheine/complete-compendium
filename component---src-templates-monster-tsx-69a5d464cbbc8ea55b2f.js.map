{"version":3,"file":"component---src-templates-monster-tsx-69a5d464cbbc8ea55b2f.js","mappings":"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","sources":["webpack://complete-compendium/./src/styles/modules/monsterpage.module.css","webpack://complete-compendium/./src/components/RandomMonsterButton.tsx","webpack://complete-compendium/./src/components/regex_description.ts","webpack://complete-compendium/./src/templates/monster.tsx","webpack://complete-compendium/./src/components/BreadCrumb.tsx","webpack://complete-compendium/./src/styles/modules/breadcrumb.module.css","webpack://complete-compendium/./src/components/Layout.tsx","webpack://complete-compendium/./src/styles/modules/layout.module.css"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var RandomMonsterButton = \"monsterpage-module--RandomMonsterButton--65e5f\";\nexport var StatblockImage = \"monsterpage-module--Statblock-Image--5cd11\";\nexport var bk = \"monsterpage-module--bk--0c7e9\";\nexport var bodyBlocks = \"monsterpage-module--body-blocks--a22b5\";\nexport var cn = \"monsterpage-module--cn--2c6ef\";\nexport var f = \"monsterpage-module--f--f6dca\";\nexport var fi = \"monsterpage-module--fi--5f664\";\nexport var horizontalMonsterLinks = \"monsterpage-module--horizontal-monster-links--21e47\";\nexport var hr1 = \"monsterpage-module--hr1--f5b5c\";\nexport var interweave = \"monsterpage-module--interweave--f54cc\";\nexport var ip = \"monsterpage-module--ip--d7cfc\";\nexport var lastModified = \"monsterpage-module--last-modified--850e5\";\nexport var loading = \"monsterpage-module--loading--0674d\";\nexport var monsterBody = \"monsterpage-module--monster-body--65cac\";\nexport var monsterImage = \"monsterpage-module--monster-image--bb97d\";\nexport var monsterImgFrame = \"monsterpage-module--monster-img-frame--67133\";\nexport var monsterNav = \"monsterpage-module--monster-nav--3c352\";\nexport var monsterNavLink = \"monsterpage-module--monster-nav-link--495ca\";\nexport var monsterNavLinks = \"monsterpage-module--monster-nav-links--c9a5a\";\nexport var ni = \"monsterpage-module--ni--d20dd\";\nexport var pageRandomMonsterButton = \"monsterpage-module--page-random-monster-button--2d0e4\";\nexport var printLink = \"monsterpage-module--print-link--bc6b6\";\nexport var psionicTableData = \"monsterpage-module--psionic-table-data--bec3c\";\nexport var psionicsSummary = \"monsterpage-module--psionics-summary--e13ca\";\nexport var psionicsTable = \"monsterpage-module--psionics-table--3af5a\";\nexport var settingImage = \"monsterpage-module--setting-image--e8b92\";\nexport var sourceList = \"monsterpage-module--source-list--66a63\";\nexport var statblock = \"monsterpage-module--statblock--52b79\";\nexport var topHeader = \"monsterpage-module--top-header--5efbc\";\nexport var tsr = \"monsterpage-module--tsr--2eb82\";\nexport var tsrFooter = \"monsterpage-module--tsr-footer--866d8\";\nexport var tsrLabel = \"monsterpage-module--tsr-label--b394a\";","// Random monster button.\nimport React from \"react\"\nimport { useState, useEffect } from 'react';\nimport CSS from 'csstype';\nimport { Link } from \"gatsby\";\n\nimport AA_KEYS_TITLES from '../data/AA_KEYS_TITLES.json'\n\nfunction getRandomInt(max: number) {\n    return Math.floor(Math.random() * max);\n}\n\nconst randomButtonStyleHome: CSS.Properties = {\n    marginBlockStart: \"unset\",\n    marginBlockEnd: \"unset\",\n    marginInlineStart: \"unset\",\n    marginInlineEnd: \"unset\",\n    position: \"relative\",\n    fontFamily: \"Leksa Sans DemiBold\",\n    fontStyle: \"normal\",\n    fontWeight: 600,\n    fontSize: \"24px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    textDecoration: \"none\",\n    textTransform: \"capitalize\",\n    color: \"white\",\n    paddingTop: \"1rem\",\n    paddingBottom: \"1rem\",\n    paddingLeft: \"2rem\",\n    paddingRight: \"2rem\",\n    zIndex: 1,\n}\n\nconst randomButtonStylePage: CSS.Properties = {\n    marginBlockStart: \"unset\",\n    marginBlockEnd: \"unset\",\n    marginInlineStart: \"unset\",\n    marginInlineEnd: \"unset\",\n    position: \"relative\",\n    fontFamily: \"Leksa Sans DemiBold\",\n    fontStyle: \"normal\",\n    fontWeight: 600,\n    fontSize: \"18px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    textDecoration: \"none\",\n    textTransform: \"capitalize\",\n    color: \"white\",\n    zIndex: 1,\n}\n\nconst randomButtonStyleInner: CSS.Properties = {\n    position: \"relative\",\n    fontFamily: \"Leksa Sans DemiBold\",\n    fontStyle: \"normal\",\n    fontWeight: 400,\n    display: \"flex\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    textDecoration: \"none\",\n    textTransform: \"capitalize\",\n    color: \"white\",\n    paddingTop: \"2mm\",\n    paddingBottom: \"2mm\",\n    paddingLeft: \"1.5rem\",\n    paddingRight: \"1.5rem\",\n    zIndex: 1,\n}\n\n\nconst RandomMonsterButton = (props: { home: Boolean }) => {\n    const [monster_key, setMonsterKey] = useState('');\n    // const [monster_title, setMonsterTitle] = useState('');\n\n    const getRandomMonster = () => {\n        // if DataService.monsterTitles is undefined\n        const monsterKeys = Object.keys(AA_KEYS_TITLES);\n        //console.log(\"Random. localmonsterkeys\",monsterKeys  )\n        if (monsterKeys !== undefined) {\n\n            const random_key = monsterKeys[getRandomInt(monsterKeys.length)];\n            setMonsterKey(random_key);\n        }\n    }\n\n    useEffect(() => {\n        getRandomMonster();\n    }, []);\n    let randomButtonStyle: CSS.Properties\n    if (props.home) {\n        randomButtonStyle = randomButtonStyleHome\n    } else {\n        randomButtonStyle = randomButtonStylePage\n    }\n\n    return (\n        <div style={randomButtonStyle}>\n            <Link to={\"/appendix/\" + monster_key} style={{ textDecoration: \"none\" }}>\n                <div style={randomButtonStyleInner} onClick={getRandomMonster}>Random Monster</div>\n                {/* <div className=\"random-button\" onClick={getRandomMonster}>Random Monster</div> */}\n            </Link>\n        </div>\n    );\n}\n\nexport default RandomMonsterButton;","\n\nfunction getMonsterDescription(monster_key: string, fullBodyString: string): string {\n    let description = \"\"\n    const regexp = /<p class=\\\"f\\\">([^<].+?)<\\/p>/;\n    // const regexp = /(<p class=\\\\\"f\\\\\">)/gm;\n    // const regexp = /(<p class)/gm;\n    // const regexp = /<p class=/;\n    // const matches = fullBodyString.matchAll(regexp);\n    const match = fullBodyString.match(regexp)\n    // for (const match of fullBodyString.matchAll(regexp)) {\n    //   console.log(`Match! ${match[1]}`);\n    // }\n    if(match !== null){\n      if(match[1]){\n        description = match[1]  \n      }\n      // console.log(\"Match found!\")\n    } \n    // console.log(\"Description for: \", monster_key)\n    \n    // Filter html blocks\n    description = description.replace(/<.*?>/g, \"\")\n    \n    // console.log(description)\n    return description\n  }\n\nexport default getMonsterDescription;","import React from \"react\"\n// import { useEffect, useState } from 'react'\n\nimport Layout from '../components/Layout';\nimport {  PageProps, Link, HeadFC, HeadProps, graphql  } from \"gatsby\";\n\nimport { CreatePagesArgs } from 'gatsby';\nimport { Interweave } from \"interweave\";\n\n// Formatting\nimport \"@styles/SettingColors.css\"\nimport COLORS from '@styles/SettingColors'\nimport RandomMonsterButton from \"@components/RandomMonsterButton\";\n\nimport * as monsterPageStyles from \"@styles/modules/monsterpage.module.css\"\nimport \"@styles/modules/monsterpage.module.css\"\n\nimport getMonsterDescription from \"@components/regex_description\"\nimport { polyfill } from 'interweave-ssr';\n\n\npolyfill();\n// const isBrowser = typeof window !== \"undefined\"\n\nconst cat_acronyms = require('@data/CatAcronyms.json')\n// const sorted_tsr = require('@data/sortedtsr.json')\nconst publishId_to_acronym = require('@data/publishId_to_acronym.json')\n\nconst all_tsr = require('../../data/all_tsr.json')\n///////////\n// Styles\n\nconst settingImageStyle = {\n  float: \"right\",\n  width: \"150px\",\n}\n\nconst headingStyles = {\n  marginTop: 0,\n  marginBottom: 64,\n  maxWidth: 320,\n}\n\ntype MonsterDataType = {\n    TSR: string[],\n    fullBody: string,\n    images: string[],\n    setting: string,\n    statblock: Object,\n    title: string\n}\n\ntype MonsterPageContext = {\n    monster_key: string\n    monster_data: MonsterDataType\n    sources: string[]\n    statblock_names: string[]\n    title: string\n    prev_key: string\n    next_key: string\n    monster_path: string\n    // intereweave_body: JSX.Element\n}\n\ninterface Props {\n  pageContext: MonsterPageContext\n  }\n\n\n\n\nconst MonsterTemplate: React.FC<Props> = ( {pageContext} ) => {\n//   const [screenSize, setScreenSize] = useState(getCurrentDimension());\n\n//   function getCurrentDimension(){\n//     if(isBrowser){\n\n//       return {\n//         width: global.window.innerWidth,\n//       \theight: global.window.innerHeight\n//       }\n//     } else {\n//       return {\n//         width: 0,\n//         height: 0,\n//       }\n//     }\n// }\n\n//   useEffect(() => {\n//     const updateDimension = () => {\n//       setScreenSize(getCurrentDimension())\n//     }\n//     if(isBrowser)\n//       global.window.addEventListener('resize', updateDimension);\n    \n//     return(() => {\n//         global.window.removeEventListener('resize', updateDimension);\n//     })\n//   }, [screenSize])\n\n\n  const monster_page_data: MonsterPageContext = pageContext\n  // console.log(monster_page_data)\n  // const monster_object = pageContext.monster_object\n//   console.log(\"monster page\")\n//   console.log(monster_page_data)\n  // console.log(\"monster template\")\n  // console.log(monster_object)\n  const monster_key = monster_page_data.monster_key\n  const title = monster_page_data.title\n  const sources = monster_page_data.sources\n  const previous_monster_key = monster_page_data.prev_key\n  const next_monster_key = monster_page_data.next_key\n\n  const fullBody = monster_page_data.monster_data.fullBody;\n  // Getting the fullbody data and putting it into React state\n  // to prevent hydration issue on refresh\n\n  // const [interweave_body, setInterweave] = useState<JSX.Element>();\n\n  // Data does't start loading\n  // until *after* Parent is mounted\n  // useEffect(() => {\n  //   setInterweave(<Interweave className=\"interweave\" content={fullBody} />)\n  // }, []);\n\n\n  //   console.log(previous_monster_key, next_monster_key)\n  // Checking Main Image\n  //  If the regex pattern matches, know we NEED an image. So set the url to where it should be with monster_key\n  //  and also have an onerror=\"javascript:this.src='images/default.jpg'\" to set the image to default if it doesn't exist\n  //  If doesn't need image, set the bool flag and no image will be rendered\n  let monster_image = <></>;\n  let needs_image = true;\n  let image_url = \"\";\n  // if(monster_page_data.monster_data.images[1]) regex contains monster_key\n  let main_img_pattern = \"img/\" + monster_page_data.monster_key\n  if(monster_page_data.monster_data.images[1] && monster_page_data.monster_data.images[1].match(new RegExp(main_img_pattern, \"g\"))){\n      // console.log(\"Should have image\")\n      needs_image = true;\n  } else {\n      // console.log(\"Does not have image\")\n      needs_image = false;\n  }\n\n  if(needs_image){\n      // Set image url\n      image_url = \"/images/monsters/img/\" + monster_page_data.monster_key + \".gif\"\n      let image_placeholder = \"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg\"\n\n      monster_image = <img className={monsterPageStyles.monsterImage}   src={image_url}\n      alt={monster_page_data.monster_data.title} \n      title={monster_page_data.monster_data.title} \n      onError={({currentTarget}) => {\n          currentTarget.onerror = null;\n          currentTarget.alt = \"This monster is missing it's image. It will be found eventually.\";\n          currentTarget.src = image_placeholder;\n          currentTarget.title = \"Missing image of \" + monster_page_data.monster_data.title;\n      }}/>\n\n  } \n    \n  // Change document title to monster title\n  // if(typeof document !== 'undefined'){\n  //     // document.title = monster_page_data.monster_data.title + \" - Complete Compendium\";\n  // }\n\n  // Handle setting and accent color.\n  const setting_name = monster_page_data.monster_data.setting;\n  const setting_acr = cat_acronyms[setting_name]\n  var hrClass = \"hr2\"\n  var titleStyle = {}\n  if(setting_acr){\n      hrClass = \"hr2-\" + setting_acr\n      const colorVar = \"--color-\" + setting_acr\n      titleStyle = {color: COLORS.get(setting_acr)}\n  }\n\n  // Title style\n\n  // const interweaveMonsterBody: JSX.Element = <div className=\"set-html\" dangerouslySetInnerHTML={{__html: fullBody}} />\n\n  let monsterNavWidgets: JSX.Element =\n  <div>\n    <div className={monsterPageStyles.monsterNavLinks}>\n      <div className={monsterPageStyles.pageRandomMonsterButton}>\n        <RandomMonsterButton home={false} />\n      </div>\n      <div className={monsterPageStyles.horizontalMonsterLinks}>\n        <Link className={monsterPageStyles.monsterNavLink} to={\"../\" + previous_monster_key}>\n          <div className={monsterPageStyles.monsterNav}>\n              Previous\n          </div>\n        </Link>\n        {/* Random Monster */}\n        {/* <div className={monsterPageStyles.monsterNav}>\n            <RandomMonsterButton />\n          </div> */}\n        <Link className={monsterPageStyles.monsterNavLink} to={\"../\" + next_monster_key}>\n          <div className={monsterPageStyles.monsterNav}>\n            Next\n          </div>\n        </Link>\n      </div>\n    </div>\n  </div>\n\n  const test_jsx: JSX.Element = <div>Test JSX Element</div>\n\n\n  // const { book_data } = data\n  return (\n    <>\n    \n    {/* <Head title={monster_page_data.monster_data.title} description={`Description for ${monster_page_data.monster_data.title}`} /> */}\n    <Layout url={`/appendix/${monster_key}`}>\n      <div>\n        {monsterNavWidgets}\n\n\n      {/* TITLE */}\n      <div className={monsterPageStyles.topHeader}>\n          <h1 style={titleStyle}>{monster_page_data.monster_data.title}</h1>\n          <Link to={\"/catalog/\" + cat_acronyms[monster_page_data.monster_data.setting]}>\n              <img className={monsterPageStyles.settingImage} src={`/img_settings/${cat_acronyms[monster_page_data.monster_data.setting]}.gif`}  alt={monster_page_data.monster_data.setting + \"Campaign Setting Logo\"} title={monster_page_data.monster_data.setting}/>\n          </Link>\n      </div>\n      \n      <hr className ={monsterPageStyles.hr1}/>\n      <hr className ={hrClass}/>\n\n      <div className={monsterPageStyles.monsterImgFrame}>\n      {monster_image}\n      </div>\n\n      <Interweave className=\"interweave\" content={fullBody} />\n      {/* {interweaveMonsterBody} */}\n\n      {/* <Interweave content=\"This string contains <b>HTML</b> and will safely be rendered!\" /> */}\n      {/* {test_jsx} */}\n      {/* TSR Array */}\n      <div className={monsterPageStyles.sourceList}>\n        <div className={monsterPageStyles.tsrLabel}>\n            Sourcebooks:\n        </div>\n        <div className={monsterPageStyles.tsr}>\n            {\n                (monster_page_data.monster_data.hasOwnProperty(\"TSR\") && monster_page_data.monster_data[\"TSR\"] != null) ?\n                    monster_page_data.monster_data[\"TSR\"].map((tsr: string) => {\n                        return (\n                            <div key={tsr}>\n                                <Link to={\"/catalog/\" + publishId_to_acronym[tsr] + \"/\" + tsr}>{all_tsr[tsr]?.title} ({tsr})</Link>\n                                <br/>\n                            </div>\n                        )\n                    }\n                )\n                : \"No TSR\"\n            }\n        </div>\n    </div>\n\n    {/* LAST MODIFIED */}\n    {/* <div className=\"last-modified\">\n        Last Modified: {monster_page_data.updatedAt}\n    </div> */}\n    <div className={monsterPageStyles.printLink}>\n      <Link to={`/appendix/${monster_key}/print`}>Print-friendly page</Link> (Experimental)\n    </div>\n\n\n\n\n      </div>\n    </Layout>\n    </>\n  )\n}\n\n// interface HeadProps {\n//   location: any,\n//   params: any,\n//   data: any,\n//   pageContext: MonsterPageContext\n// }\n\n\n\n// export function Head ({ location, params, data, pageContext }: HeadProps) => (\n//   <>\n//     <title>{pageContext.title}</title>\n//     <meta name=\"description\" content={data.page.description} />\n//     <meta\n//       name=\"twitter:url\"\n//       content={`https://www.foobar.tld/${location.pathname}`}\n//     />\n//   </>\n// )\n\n// export function Head(props: HeadProps<DataProps>){\n\n//   // Extract description.\n\n//   // Demo description for now.\n\n//   const monster_desc = `Description for ${props.data.sitePage.pageContext.title}`\n//   console.log(\"Head\", props.data.sitePage.pageContext)\n\n//   return (\n//     <>\n//       <title>{props.data.sitePage.pageContext.title}</title>\n//       <meta name=\"description\" content={monster_desc} />\n//     </>\n//   )\n// }\n\n\n\n// export const Head = () => (\n//   <>\n//     <title>Hello World</title>\n//     <meta name=\"description\" content=\"Hello World\" />\n//   </>\n// )\n\n// Function that takes in a fullBody string and \n// returns the monster description (first paragraph) \n//  \n\n\n\nexport const Head: React.FC<Props> = ({ pageContext }) => (\n  <>\n    <title>{pageContext.title + \" - AD&D Complete Compendium\"}</title>\n    <meta property=\"og:site_name\" content=\"AD&D 2nd Edition Complete Monstrous Compendium\"/>\n    <meta property=\"og:title\" content={pageContext.monster_data.title  + \" | AD&D Complete Compendium\"}/>\n    <meta property=\"og:description\" content={ getMonsterDescription(pageContext.monster_key ,pageContext.monster_data.fullBody) }/>\n    <meta property=\"og:url\" content={\"https://www.completecompendium.com\" + pageContext.monster_path}/>\n    <meta property=\"og:type\" content=\"website\"/>\n    {\n      pageContext.monster_data.images[1] && pageContext.monster_data.images[1].match(new RegExp(pageContext.monster_key, \"g\")) ?\n      <>\n      <meta property=\"og:image\" content={\"https://www.completecompendium.com/images/monsters/img/\" + pageContext.monster_key + \".gif\"}/>\n      <meta name=\"twitter:image\" content={\"https://www.completecompendium.com/images/monsters/img/\" + pageContext.monster_key + \".gif\"}/>\n    </>\n      :\n      <></>\n    }\n    <meta property=\"og:image:width\" content=\"300\"/>\n    <meta property=\"og:image:height\" content=\"360\"/>\n    \n          \n    {/* <meta name=\"description\" content={ getMonsterDescription(pageContext.monster_key ,pageContext.monster_data.fullBody) } /> */}\n    {/* Image: \"/images/monsters/img/\" + monster_page_data.monster_key + \".gif\" */}\n    <meta name=\"twitter:card\" content=\"summary_large_image\"/>\n    <meta name=\"twitter:url\" content={\"https://www.completecompendium.com\" + pageContext.monster_path} />\n    <meta name=\"twitter:title\" content=\"Advanced Dungeons & Dragons 2nd Edition Complete Compendium\" />\n    <meta name=\"twitter:description\" content={ getMonsterDescription(pageContext.monster_key ,pageContext.monster_data.fullBody) } />\n        \n  </>\n)\n\nexport default MonsterTemplate\n\nexport const query = graphql`\n  {\n    sitePage {\n      pageContext\n    }\n  }\n`","import React from \"react\"\nimport { Link } from \"gatsby\"\n\n/**\n * Breadcrum react component that displays the current page's breadcrumb\n * Showing Catalog > Setting > Book\n */\n\n// Breadcrum react component that displays the current page's breadcrumb showing Catalog > Setting > Book\nimport * as breadcrumbStyle from \"@styles/modules/breadcrumb.module.css\"\n\n// import { title } from 'process';\nconst Acronyms = require('@data/AcronymsSetting.json')\nconst KeyToTitles = require('@data/AA_KEYS_TITLES.json')\n// const BooksIDToTitles = require('@data/sortedtsr.json')\nconst BOOKS = require('../../data/all_tsr.json')\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library, dom } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faCoffee,\n    faAddressBook,\n    faAirFreshener,\n    faAmbulance,\n    faAtom,\n    faBus,\n    faCoins,\n    faDice,\n    faAngleRight\n  } from '@fortawesome/free-solid-svg-icons'\n// class BreadCrumbElement extends React.Component {\n\nfunction BreadCrumbElement (props: {link: string, text: string}) {\n    return (\n        <>\n        <Link to={props.link} className='bc-element'>\n            {\n            props.text\n           }\n        </Link>\n        </>\n    )\n}\n\n// Specify types for Props and State\ntype MyProps = {\n    path: string[]\n}\n\n\n\n// 👇️ we set the props to empty object, and set the state to {value: string}\nconst BreadCrumb = ( props: MyProps) => {\n    var builtBC: any = [];\n    var path = \"\"\n    var path_count = 0;\n    var text = \"\"\n\n    // console.log(\"breadcrumb\", props)\n    \n    var path_origin = props.path[0]\n\n    props.path.forEach(node => {\n\n        switch (path_origin){\n            case \"appendix\":\n                switch (path_count) {\n                    case 0:\n                        text = node\n                        break;\n                    case 1: // Monster title\n                        text = KeyToTitles[node]\n                        break;\n                    default:\n                        text = \"APendix\"\n                }\n                break;\n            case \"catalog\":\n                switch(path_count) {\n                    case 0: // Catalog\n                        text = node\n                        break;\n                    case 1: // Setting\n                        text = Acronyms[node]\n                        break;\n                    case 2: // Book\n                        text = BOOKS[node].title\n                        break;\n                    case 3: // Monster\n                        text = KeyToTitles[node]\n                        break;\n                    default:\n                        text= \"Catalog\"\n                }\n\n                break;\n            case \"about\":\n                switch(path_count){\n                    case 0:\n                        text = node\n                        break;\n                    case 1:\n                        if(node == \"the-monsters\"){\n                            text = \"The Monsters\"\n                        } else{\n                            text = node\n                        }\n                        break;\n                    default:\n                        text = \"About\"\n                }\n\n            case \"table\":\n                text = \"Table\"\n                \n                \n        }\n\n        path += `/${node}`\n\n        if(path_count != 0){\n            builtBC.push(\n                <div className={breadcrumbStyle.arrowBox} key={`arrow-${node}`}>\n                    /\n                    {/* <FontAwesomeIcon icon={faAngleRight} className={breadcrumbStyle.rightArrow} /> */}\n                </div>\n            )\n        }\n        builtBC.push(\n        \n            // <div className={breadcrumbStyle.breadcrumb} key={node}>\n                <Link className={breadcrumbStyle.bcElement} to={path} key={node}>{text} </Link>\n            )\n        // builtBC.push(\n        //     <FontAwesomeIcon icon=\"angle-right\" className='right-arrow' />\n        // )\n        path_count++\n    }\n    )\n    // <div className={breadcrumbStyle.bcElement}>{x}</>\n\n\n\n    return (\n        <div className={breadcrumbStyle.bcFrame}>\n            {/* {props.path} */}\n            {/* <div className={breadcrumbStyle.startCap}/> */}\n            {builtBC}\n            <div className={breadcrumbStyle.bcBg}/>\n        </div>\n    )\n}\n\nexport default BreadCrumb;\n\n","// extracted by mini-css-extract-plugin\nexport var arrowBox = \"breadcrumb-module--arrow-box--8f143\";\nexport var bcBg = \"breadcrumb-module--bc-bg--8b107\";\nexport var bcCatalog = \"breadcrumb-module--bc-catalog--653f8\";\nexport var bcElement = \"breadcrumb-module--bc-element--36f40\";\nexport var bcFrame = \"breadcrumb-module--bc-frame--78140\";\nexport var breadcrumb = \"breadcrumb-module--breadcrumb--8d16f\";\nexport var rightArrow = \"breadcrumb-module--right-arrow--1e6a3\";\nexport var startCap = \"breadcrumb-module--start-cap--ca81e\";","import React from \"react\"\nimport { PropsWithChildren } from 'react'\n\nimport Navbar from \"./Navbar\";\nimport BreadCrumb from \"./BreadCrumb\";\n// import './Layout.css'\nimport * as layoutStyle from '@styles/modules/layout.module.css'\n\nimport Footer from \"./Footer\";\n/**\n * \n * @param param0 \n * @returns \n * \n * \n * \n * \n */\n\ntype LayoutProps = {\n  url: string\n}\n\n\n\nconst Layout = (props: PropsWithChildren<LayoutProps>) => {\n    // const url = typeof window !== 'undefined' ? window.location.pathname : '';\n    // split path\n    const relative_locs = props.url.split(\"/\")\n    // console.log(\"Layout props\",props, relative_locs)\n    if(relative_locs.length < 3){\n      relative_locs.shift();\n      \n    } else {\n      // relative_locs.pop();\n      relative_locs.shift();\n    }\n    console.log(relative_locs)\n    // console.log(relative_locs)\n    return (\n      <div className={layoutStyle.layoutWrapper}>\n        <Navbar/>\n        <div className={layoutStyle.layout}>\n        <BreadCrumb path={relative_locs}/>\n          {/* {pathname !== \"/\" ? <BreadCrumb title={breadCrumbs[1]} setting={breadCrumbs[2]} book={breadCrumbs[3]} monster_key={breadCrumbs[4]}/> : null} */}\n          {props.children}\n        </div>\n        <Footer/>\n      </div>\n    );\n};\n\n\n\n  export default Layout","// extracted by mini-css-extract-plugin\nexport var layout = \"layout-module--layout--d56eb\";\nexport var layoutMain = \"layout-module--layout-main--c275b\";\nexport var layoutWrapper = \"layout-module--layout-wrapper--c2f92\";"],"names":["horizontalMonsterLinks","hr1","monsterImage","monsterImgFrame","monsterNav","monsterNavLink","monsterNavLinks","pageRandomMonsterButton","printLink","settingImage","sourceList","topHeader","tsr","tsrLabel","randomButtonStyleHome","marginBlockStart","marginBlockEnd","marginInlineStart","marginInlineEnd","position","fontFamily","fontStyle","fontWeight","fontSize","display","alignItems","textAlign","textDecoration","textTransform","color","paddingTop","paddingBottom","paddingLeft","paddingRight","zIndex","randomButtonStylePage","randomButtonStyleInner","props","monster_key","setMonsterKey","useState","getRandomMonster","monsterKeys","Object","keys","AA_KEYS_TITLES","undefined","random_key","max","length","Math","floor","random","randomButtonStyle","useEffect","home","React","style","Link","to","onClick","fullBodyString","description","match","replace","polyfill","cat_acronyms","require","publishId_to_acronym","all_tsr","Head","_ref3","pageContext","title","property","content","monster_data","getMonsterDescription","fullBody","monster_path","images","RegExp","name","_ref","monster_page_data","previous_monster_key","sources","prev_key","next_monster_key","next_key","monster_image","needs_image","image_url","main_img_pattern","image_placeholder","className","monsterPageStyles","src","alt","onError","_ref2","currentTarget","onerror","setting_name","setting","setting_acr","hrClass","titleStyle","COLORS","get","monsterNavWidgets","RandomMonsterButton","Layout","url","Interweave","hasOwnProperty","map","_all_tsr$tsr","key","Acronyms","KeyToTitles","BOOKS","builtBC","path","path_count","text","path_origin","forEach","node","push","relative_locs","split","shift","console","log","Navbar","BreadCrumb","children","Footer"],"sourceRoot":""}